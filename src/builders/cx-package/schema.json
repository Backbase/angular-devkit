{
  "$schema": "http://json-schema.org/schema",
  "title": "CxPackageBuilderOptions",
  "description": "Options for the cx-package builder",
  "type": "object",
  "properties": {
    "destDir": {
      "description": "Output directory where the zip will be generated",
      "type": "string",
      "default": "dist/provisioning-packages"
    },
    "destFileName": {
      "description": "File name of the generated zip",
      "type": "string",
      "default": "package.zip"
    },
    "items": {
      "description": "List of provisioning items to bundle in in the package zip",
      "type": "array",
      "minItems": 1,
      "items": {
        "anyOf": [
          {
            "description": "A CX page",
            "type": "object",
            "properties": {
              "type": {
                "description": "Discriminator identifying this `items` entry as a CX page",
                "enum": ["page"]
              },
              "name": {
                "description": "Name of the catalog item",
                "type": "string"
              },
              "builtSources": {
                "description": "Path (relative to the Angular workspace root) to the directory containing the built sources for the app. The entire contents of this directory will be included in the package.\n\nTypically, this is either the same as `outputPath` of the `ng build` command when packaging just a single localisation for the app, or the parent directory of the various `outputPath` destinations when packaging multiple localisations of the app.",
                "type": "string"
              },
              "builtIndexFiles": {
                "description": "The index.html files built by `ng build` for each localisation to be packaged.  Each key should be an RFC-5646 language tag and each value the path to the index.html (relative to the `builtSources` directory) for that locale.",
                "type": "object",
                "minProperties": 1,
                "additionalProperties": {
                  "type": "string",
                  "default": "index.html"
                },
                "default": {
                  "en-US": "index.html"
                }
              },
              "entryFile": {
                "description": "Path (relative to the Angular workspace root) to the *.hbs file to be served by CX as the entry point for this page",
                "type": "string"
              },
              "modelXml": {
                "description": "Path (relative to the Angular workspace root) to the model.xml file for this page",
                "type": "string"
              },
              "icon": {
                "description": "Path (relative to the Angular workspace root) to the image file to use as the catalog icon for this page",
                "type": "string"
              }
            },
            "required": [
              "type",
              "name",
              "builtSources",
              "entryFile",
              "modelXml",
              "icon"
            ],
            "additionalProperties": false
          }
        ]
      }
    },
    "skipCleanUp": {
      "description": "Whether to skip deleting tmp files created during packaging (useful for debugging)",
      "type": "boolean",
      "default": false
    }
  },
  "required": ["items"],
  "additionalProperties": false
}
